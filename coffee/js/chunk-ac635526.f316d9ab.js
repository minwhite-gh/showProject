(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac635526"],{"5db0":function(t,a,s){},d547:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home"},[s("div",{staticClass:"homebox"},[s("div",{staticClass:"hometop"},[t._m(0),s("div",{staticClass:"hometoptext-right fr"},[s("div",{staticClass:"search"},[s("van-cell",{staticClass:"search-box",on:{click:t.showPopup}}),s("van-popup",{style:{height:"40%"},attrs:{position:"top",round:"","close-icon-position":"bottom-right"},model:{value:t.searchshow,callback:function(a){t.searchshow=a},expression:"searchshow"}},[s("van-search",{attrs:{"show-action":"",shape:"round",label:"","input-align":"center",placeholder:"请输入搜索关键词"},scopedSlots:t._u([{key:"action",fn:function(){return[s("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.searchvalue,callback:function(a){t.searchvalue=a},expression:"searchvalue"}}),s("div",{staticClass:"searchdata"},t._l(t.searchDatacom,(function(a,e){return s("div",{key:e,staticClass:"searchitem flexbetween",on:{click:function(s){return t.getpid(a.pid)}}},[s("div",{staticClass:"imgandname flexbetween"},[s("div",{staticClass:"imgbox"},[s("img",{attrs:{src:a.smallImg,alt:""}})]),s("div",{staticClass:"namebox"},[s("strong",[t._v(t._s(a.name))])])]),s("div",{staticClass:"Txt"},[s("span",[t._v("￥"+t._s(a.price))])])])})),0)],1)],1),s("div",{staticClass:"dz"})])]),s("div",{staticClass:"slogan"},[s("span",{staticClass:"timetextbox"},[t._v(t._s(t.timetext)+"好！")]),s("span",{staticClass:"nametext"},[t._v(t._s(t.username))])]),s("div",{staticClass:"homebody"},[s("div",{staticClass:"bannerimg-box"},[s("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,height:"200","indicator-color":"white"}},t._l(t.bannerData,(function(a,e){return s("van-swipe-item",{key:e},[s("img",{staticClass:"auto-img",attrs:{src:a.bannerImg,alt:""},on:{click:function(s){return t.getpid(a.pid)}}}),s("div",{staticClass:"sm"},[t._v(t._s(a.name))])])})),1)],1),s("div",{staticClass:"ishot"},[s("div",{staticClass:"ishot-text"},[t._v("为你推荐")]),s("div",{staticClass:"ishot-body clearfix"},t._l(t.ishotData,(function(a,e){return s("div",{key:e,staticClass:"ishot-box fl",on:{click:function(s){return t.getpid(a.pid)}}},[s("div",{staticClass:"ishot-imgbox fl"},[s("van-image",{attrs:{width:"80",height:"80",round:"",src:a.smallImg}})],1),s("div",{staticClass:"ishot-box-text fl"},[s("strong",[t._v(t._s(a.name))]),s("p",[s("span",[t._v("￥")]),s("span",[t._v(t._s(a.price))])])])])})),0)])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"hometoptext-left fl"},[s("strong",[t._v("12")]),s("span",[t._v("NOBEMBER")])])}],n=(s("5db0"),{name:"Home",created:function(){this.getbannerData(),this.settimeText(),this.getishotData(),this.getUserInfo()},data:function(){return{username:"",searchshow:!1,searchvalue:"",searchDatacom:[],bannerData:[],timetext:"",ishotData:[]}},methods:{showPopup:function(){this.searchshow=!this.searchshow},getbannerData:function(){var t=this;this.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),this.axios({method:"get",url:"/banner",params:{appkey:this.appkey}}).then((function(a){t.$toast.clear(),300==a.data.code&&(t.bannerData=a.data.result)})).catch((function(t){}))},settimeText:function(){var t=(new Date).getHours();this.showtimeText(t)},showtimeText:function(t){t>3&&t<=6?this.timetext="凌晨":t>6&&t<=8?this.timetext="早晨":t>8&&t<=11?this.timetext="上午":t>11&&t<=13?this.timetext="中午":t>13&&t<=17?this.timetext="下午":t>17&&t<=19?this.timetext="傍晚":t>19&&t<=23?this.timetext="晚上":t>23&&t<=3&&(this.timetext="深夜")},getishotData:function(){var t=this;this.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:"isHot",value:1}}).then((function(a){t.$toast.clear(),500==a.data.code&&(t.ishotData=a.data.result)})).catch((function(a){t.$toast.clear()}))},getpid:function(t){this.$router.push({name:"Detail",query:{pid:t}})},onSearch:function(){var t=this,a=localStorage.getItem("CSTK");if(!a)return this.$router.push("/login");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/search",params:{appkey:this.appkey,name:this.searchvalue}}).then((function(a){t.$toast.clear(),t.searchDatacom=[],"Q001"==a.data.code&&(a.data.result.length>0?(t.$toast(a.data.msg),t.searchDatacom=a.data.result):t.$toast("暂无此商品"))})).catch((function(a){t.$toast.clear()}))},getUserInfo:function(){var t=this,a=localStorage.getItem("CSTK");a||(this.isimgbool=!1),this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findAccountInfo",params:{appkey:this.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),"B001"==a.data.code&&(t.username=a.data.result[0].nickName)})).catch((function(a){t.$toast.clear()}))}}}),o=n,c=s("2877"),r=Object(c["a"])(o,e,i,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-ac635526.f316d9ab.js.map