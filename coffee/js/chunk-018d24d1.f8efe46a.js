(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-018d24d1"],{"0ebc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"secunity"},[a("div",{staticClass:"secunity-top"},[a("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.goback}})],1),a("div",{staticClass:"secunitybox"},[a("div",{staticClass:"secunitybox-body"},[a("div",{staticClass:"listbox"},[a("div",{staticClass:"listboxItem",attrs:{"is-link":""},on:{click:t.showpwpopup}},[a("span",[t._v("修改密码")]),a("van-icon",{attrs:{name:"arrow",size:"20",color:"#3f454b"}})],1),a("van-popup",{style:{height:"40%"},attrs:{closeable:"",position:"bottom","close-icon-position":"top-right",round:""},model:{value:t.changenum,callback:function(e){t.changenum=e},expression:"changenum"}},[a("div",{staticClass:"changepopup"},[a("p",[t._v("修改密码")]),a("van-form",[t._l(t.Allpassword,(function(e,n){return a("van-field",{key:n,attrs:{type:e.isPassword?"text":"password","right-icon":e.isPassword?"eye-o":"closed-eye",placeholder:"请输入6-16位字母开头的密码",label:e.title},on:{"click-right-icon":function(e){return t.showeye(n)}},model:{value:e.password,callback:function(a){t.$set(e,"password",a)},expression:"item.password"}})})),a("div",{staticStyle:{"margin-top":"16px"}},[a("van-button",{attrs:{round:"",block:"",color:"#3a63f1","native-type":"submit"},on:{click:t.changepw}},[t._v("确认修改")])],1)],2)],1)]),a("div",{staticClass:"listboxItem",on:{click:t.logout}},[a("span",[t._v("注销账号")]),a("van-icon",{attrs:{name:"arrow",size:"20",color:"#3f454b"}})],1)],1)])])])},o=[],r=(a("a822"),a("e3a8")),s=a("2f14"),i={data:function(){return{changenum:!1,Allpassword:{old:{password:"",title:"旧密码",isPassword:!1},new:{password:"",title:"新密码",isPassword:!1}}}},methods:{goback:function(){this.$router.go(-1)},showpwpopup:function(){this.changenum=!this.changenum},showeye:function(t){this.Allpassword[t].isPassword=!this.Allpassword[t].isPassword},changepw:function(){var t=this,e=localStorage.getItem("CSTK");if(!e)return this.$router.push("/login");var a={oldPassword:{value:this.Allpassword.old.password,reg:/^[A-Za-z]\w{5,15}$/,errMsg:"旧密码需数字与字母组合"},newPassword:{value:this.Allpassword.new.password,reg:/^[A-Za-z]\w{5,15}$/,errMsg:"密码需数字与字母组合"}};if(r["a"].valid(a)){var n=s["a"].queryString({appkey:this.appkey,tokenString:e,oldPassword:this.Allpassword.old.password,password:this.Allpassword.new.password});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/updatePassword",data:n}).then((function(e){t.$toast.clear(),"E003"==e.data.code&&t.$notify({type:"warning",message:e.data.msg}),"E001"==e.data.code&&(t.$notify({type:"success",message:e.data.msg}),localStorage.removeItem("CSTK"),t.$router.push("/login"))})).catch((function(e){t.$toast.clear()}))}},logout:function(){var t=this;this.$dialog.confirm({title:"确认注销账号?"}).then((function(){var e=localStorage.getItem("CSTK");if(!e)return t.$router.push("/login");var a=s["a"].queryString({appkey:t.appkey,tokenString:e});t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),t.axios({method:"POST",url:"/destroyAccount",data:a}).then((function(e){t.$toast.clear(),"G001"==e.data.code&&(t.$toast(e.data.msg),localStorage.removeItem("CSTK"),setTimeout((function(){t.$router.push("/login")}),600))})).catch((function(e){t.$toast.clear()}))})).catch((function(e){t.$toast("注销失败")}))}}},c=i,l=a("2877"),u=Object(l["a"])(c,n,o,!1,null,"21b425e2",null);e["default"]=u.exports},"2f14":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("99af"),a("fb6a");var n=a("d4ec"),o=a("bee2"),r=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,[{key:"queryString",value:function(t){var e="";for(var a in t)e+="".concat(a,"=").concat(t[a],"&");return e.slice(0,-1)}}]),t}(),s=new r},8418:function(t,e,a){"use strict";var n=a("c04e"),o=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var s=n(e);s in t?o.f(t,s,r(0,a)):t[s]=a}},"99af":function(t,e,a){"use strict";var n=a("23e7"),o=a("d039"),r=a("e8b5"),s=a("861d"),i=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),p=a("2d00"),h=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",w=p>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=d("concat"),y=function(t){if(!s(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)},m=!w||!b;n({target:"Array",proto:!0,forced:m},{concat:function(t){var e,a,n,o,r,s=i(this),d=u(s,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?s:arguments[e],y(r)){if(o=c(r.length),f+o>g)throw TypeError(v);for(a=0;a<o;a++,f++)a in r&&l(d,f,r[a])}else{if(f>=g)throw TypeError(v);l(d,f++,r)}return d.length=f,d}})},a822:function(t,e,a){},bee2:function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}a.d(e,"a",(function(){return o}))},d4ec:function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return n}))},e3a8:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("d4ec"),o=a("bee2"),r=(a("9a83"),a("f564")),s=a("2b0e");s["a"].use(r["a"]);var i=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,[{key:"valid",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return Object(r["a"])({type:"warning",message:t[e].errMsg}),!1;return!0}}]),t}(),c=new i},fb6a:function(t,e,a){"use strict";var n=a("23e7"),o=a("861d"),r=a("e8b5"),s=a("23cb"),i=a("50c4"),c=a("fc6a"),l=a("8418"),u=a("b622"),d=a("1dde"),f=a("ae40"),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),v=[].slice,w=Math.max;n({target:"Array",proto:!0,forced:!p||!h},{slice:function(t,e){var a,n,u,d=c(this),f=i(d.length),p=s(t,f),h=s(void 0===e?f:e,f);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?o(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(d,p,h);for(n=new(void 0===a?Array:a)(w(h-p,0)),u=0;p<h;p++,u++)p in d&&l(n,u,d[p]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-018d24d1.f8efe46a.js.map