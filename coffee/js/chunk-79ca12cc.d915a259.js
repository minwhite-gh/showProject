(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79ca12cc"],{"2f14":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o("99af"),o("fb6a");var n=o("d4ec"),a=o("bee2"),r=function(){function e(){Object(n["a"])(this,e)}return Object(a["a"])(e,[{key:"queryString",value:function(e){var t="";for(var o in e)t+="".concat(o,"=").concat(e[o],"&");return t.slice(0,-1)}}]),e}(),i=new r},"440d":function(e,t,o){e.exports=o.p+"img/logo2.2d3cfc70.png"},8418:function(e,t,o){"use strict";var n=o("c04e"),a=o("9bf2"),r=o("5c6c");e.exports=function(e,t,o){var i=n(t);i in e?a.f(e,i,r(0,o)):e[i]=o}},"99af":function(e,t,o){"use strict";var n=o("23e7"),a=o("d039"),r=o("e8b5"),i=o("861d"),s=o("7b0b"),c=o("50c4"),u=o("8418"),l=o("65f0"),p=o("1dde"),f=o("b622"),d=o("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",w=d>=51||!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=p("concat"),m=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},y=!w||!b;n({target:"Array",proto:!0,forced:y},{concat:function(e){var t,o,n,a,r,i=s(this),p=l(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?i:arguments[t],m(r)){if(a=c(r.length),f+a>v)throw TypeError(g);for(o=0;o<a;o++,f++)o in r&&u(p,f,r[o])}else{if(f>=v)throw TypeError(g);u(p,f++,r)}return p.length=f,p}})},a55b:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-box"},[n("div",{staticClass:"topbox"},[n("van-nav-bar",{scopedSlots:e._u([{key:"left",fn:function(){return[n("div",{staticClass:"leftbox"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:o("440d"),alt:""}})]),n("div",{staticClass:"textbox"},[e._v("KEKE Mall")])])]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"dian",on:{click:e.gohome}},[e._v("先去逛逛")])]},proxy:!0}])})],1),n("div",{staticClass:"bodybox"},[e._m(0),n("div",{staticClass:"bodyinput-box"},[n("van-form",[n("van-field",{attrs:{name:"用户名/手机号码",placeholder:"用户名/手机号码"},model:{value:e.userLoginInfo.phone,callback:function(t){e.$set(e.userLoginInfo,"phone",t)},expression:"userLoginInfo.phone"}}),n("van-field",{attrs:{type:e.isShowPw?"text":"password","right-icon":e.isShowPw?"eye-o":"closed-eye",name:"密码",placeholder:"密码"},on:{"click-right-icon":e.showeye},model:{value:e.userLoginInfo.password,callback:function(t){e.$set(e.userLoginInfo,"password",t)},expression:"userLoginInfo.password"}}),n("div",{staticClass:"forgotbox fr",on:{click:e.goforgot}},[e._v("忘记密码?")]),n("div",{staticClass:"submit-btn"},[n("van-button",{attrs:{round:"",block:"",color:"#3a63f1","native-type":"submit"},on:{click:e.login}},[e._v("登 录")])],1),n("div",{staticClass:"login-btn"},[n("van-button",{attrs:{round:"",block:"",type:"default","is-link":""},on:{click:e.showPopup}},[e._v("注 册")]),n("van-popup",{style:{height:"50%"},attrs:{round:"",position:"bottom",closeable:""},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[n("div",{staticClass:"popupText"},[n("h2",[e._v("注册")]),n("van-form",[n("van-field",{attrs:{type:"text",name:"用户名/昵称",placeholder:"用户名/昵称 用于取餐对您的称呼"},model:{value:e.registerInfo.nickName,callback:function(t){e.$set(e.registerInfo,"nickName",t)},expression:"registerInfo.nickName"}}),n("van-field",{attrs:{name:"手机号 中国(+86)",placeholder:"手机号 中国(+86)"},model:{value:e.registerInfo.phone,callback:function(t){e.$set(e.registerInfo,"phone",t)},expression:"registerInfo.phone"}}),n("van-field",{attrs:{type:e.ispopupShowPw?"text":"password",name:"密码",placeholder:"密码","right-icon":e.ispopupShowPw?"eye-o":"closed-eye"},on:{"click-right-icon":e.popupshoweye},model:{value:e.registerInfo.password,callback:function(t){e.$set(e.registerInfo,"password",t)},expression:"registerInfo.password"}}),n("div",{staticStyle:{"margin-top":"16px"}},[n("van-button",{attrs:{round:"",block:"",color:"#3a63f1","native-type":"submit"},on:{click:e.register}},[e._v("提 交")])],1)],1)],1)])],1)],1)],1)])])])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bodytext-box"},[o("h2",[e._v("欢迎回来!")]),o("p",[e._v("Please login to your accounts")])])}],r=(o("c25d"),o("2f14")),i=o("e3a8"),s={data:function(){return{userLoginInfo:{phone:"",password:""},isShowPw:!1,ispopupShowPw:!1,popupShow:!1,registerInfo:{nickName:"",phone:"",password:""}}},methods:{showeye:function(){this.isShowPw=!this.isShowPw},popupshoweye:function(){this.ispopupShowPw=!this.ispopupShowPw},showPopup:function(){this.popupShow=!this.popupShow},register:function(){var e=this,t=this.registerInfo,o={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errMsg:"手机号码格式不正确"},nickName:{value:t.nickName,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errMsg:"昵称格式错误，请输入2-11位的昵称"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errMsg:"密码格式不正确，请输入以字母开头的6-16位密码"}};if(i["a"].valid(o)){this.$toast.loading({message:"加载中",forbidClick:!0,duration:0});var n=Object.assign({},t);n.appkey=this.appkey;var a=r["a"].queryString(n);this.axios({method:"POST",url:"/register",data:a}).then((function(o){if(e.$toast.clear(),100==o.data.code)for(var n in e.popupShow=!1,e.$toast(o.data.msg),t)t[n]="";else e.$toast({type:"warning",message:o.data.msg})})).catch((function(e){}))}},login:function(){var e=this,t=this.userLoginInfo,o={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errMsg:"手机号码格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errMsg:"密码格式不正确，请输入以字母开头的6-16位密码"}};if(i["a"].valid(o)){this.$toast.loading({message:"加载中",forbidClick:!0,duration:0});var n=Object.assign({},t);n.appkey=this.appkey;var a=r["a"].queryString(n);this.axios({method:"POST",url:"/login",data:a}).then((function(o){if(e.$toast.clear(),200==o.data.code){for(var n in t)t[n]="";localStorage.setItem("CSTK",o.data.token),e.$router.push({name:"Home"})}else e.$toast({type:"warning",message:o.data.msg})})).catch((function(e){}))}},gohome:function(){this.$router.push("/home")},goforgot:function(){this.$router.push("/forgotpw")}}},c=s,u=o("2877"),l=Object(u["a"])(c,n,a,!1,null,null,null);t["default"]=l.exports},bee2:function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}o.d(t,"a",(function(){return a}))},c25d:function(e,t,o){},d4ec:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.d(t,"a",(function(){return n}))},e3a8:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("d4ec"),a=o("bee2"),r=(o("9a83"),o("f564")),i=o("2b0e");i["a"].use(r["a"]);var s=function(){function e(){Object(n["a"])(this,e)}return Object(a["a"])(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(r["a"])({type:"warning",message:e[t].errMsg}),!1;return!0}}]),e}(),c=new s},fb6a:function(e,t,o){"use strict";var n=o("23e7"),a=o("861d"),r=o("e8b5"),i=o("23cb"),s=o("50c4"),c=o("fc6a"),u=o("8418"),l=o("b622"),p=o("1dde"),f=o("ae40"),d=p("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,w=Math.max;n({target:"Array",proto:!0,forced:!d||!h},{slice:function(e,t){var o,n,l,p=c(this),f=s(p.length),d=i(e,f),h=i(void 0===t?f:t,f);if(r(p)&&(o=p.constructor,"function"!=typeof o||o!==Array&&!r(o.prototype)?a(o)&&(o=o[v],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return g.call(p,d,h);for(n=new(void 0===o?Array:o)(w(h-d,0)),l=0;d<h;d++,l++)d in p&&u(n,l,p[d]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-79ca12cc.d915a259.js.map