(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9401d76a"],{"0e68":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),s=a("5899"),r="["+s+"]",n=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),d=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:d(1),end:d(2),trim:d(3)}},a9e3:function(t,e,a){"use strict";var i=a("83ab"),s=a("da84"),r=a("94ca"),n=a("6eeb"),o=a("5135"),d=a("c6b6"),c=a("7156"),u=a("c04e"),l=a("d039"),f=a("7c73"),h=a("241c").f,p=a("06cf").f,g=a("9bf2").f,v=a("58a8").trim,I="Number",k=s[I],m=k.prototype,S=d(f(m))==I,$=function(t){var e,a,i,s,r,n,o,d,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+c}for(r=c.slice(2),n=r.length,o=0;o<n;o++)if(d=r.charCodeAt(o),d<48||d>s)return NaN;return parseInt(r,i)}return+c};if(r(I,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var b,y=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof y&&(S?l((function(){m.valueOf.call(a)})):d(a)!=I)?c(new k($(e)),a,y):$(e)},N=i?h(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;N.length>A;A++)o(k,b=N[A])&&!o(y,b)&&g(y,b,p(k,b));y.prototype=m,m.constructor=y,n(s,I,y)}},c18d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newaddres"},[a("div",{staticClass:"newaddresbox"},[a("div",{staticClass:"newaddres-top"},[a("van-nav-bar",{attrs:{title:t.aid?"编辑地址":"新增地址","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),a("van-address-edit",{attrs:{"area-list":t.areaList,"show-postal":"","show-delete":!!t.aid,"show-set-default":"","address-info":t.addressInfo,"show-search-result":"","area-columns-placeholder":["请选择","请选择","请选择"]},on:{save:t.clickSave,delete:t.delAddress}})],1)])},s=[],r=(a("a9e3"),a("0e68"),a("69ee")),n=a("2f14"),o={created:function(){this.aid=this.$route.query.aid,this.aid&&this.getaddressInfo()},data:function(){return{areaList:r["a"],addressInfo:{id:"",name:"",tel:"",province:"",city:"",county:"",addressDetail:"",areaCode:"",postalCode:"",isDefault:!1},aid:""}},methods:{onClickLeft:function(){this.$router.go(-1)},clickSave:function(t){this.aid?this.changeAddress(t):this.createNew(t)},createNew:function(t){var e=this,a=Object.assign({},t),i=localStorage.getItem("CSTK");if(!i)return this.$router.push("/login");delete a.id,delete a.county,a.isDefault=Number(a.isDefault),a.appkey=this.appkey,a.tokenString=i;var s=n["a"].queryString(a);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/addAddress",data:s}).then((function(t){e.$toast.clear(),9e3==t.data.code&&(e.$toast(t.data.msg),setTimeout((function(){e.$router.go(-1)}),600))})).catch((function(t){e.$toast.clear()}))},changeAddress:function(t){var e=this,a=!1;for(var i in t)if(this.addressInfo[i]!=t[i]){a=!0;break}if(a){var s=Object.assign({},t),r=localStorage.getItem("CSTK");if(!r)return this.$router.push("/login");delete s.id,delete s.county,s.aid=this.aid,s.isDefault=Number(s.isDefault),s.appkey=this.appkey,s.tokenString=r;var o=n["a"].queryString(s);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/editAddress",data:o}).then((function(t){e.$toast.clear(),3e4==t.data.code&&setTimeout((function(){e.$router.go(-1)}),1e3)})).catch((function(t){e.$toast.clear()}))}},getaddressInfo:function(){var t=this,e=localStorage.getItem("CSTK");if(!e)return this.$router.push("/login");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findAddressByAid",params:{appkey:this.appkey,tokenString:e,aid:this.aid}}).then((function(e){for(var a in t.$toast.clear(),t.addressInfo)t.addressInfo[a]="id"!=a?"isDefault"==a?Boolean(e.data.result[0][a]):e.data.result[0][a]:e.data.result[0].aid})).catch((function(e){t.$toast.clear()}))},delAddress:function(){var t=this,e=localStorage.getItem("CSTK");if(!e)return this.$router.push("/login");var a=n["a"].queryString({appkey:this.appkey,tokenString:e,aid:this.aid});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"post",url:"/deleteAddress",data:a}).then((function(e){t.$toast.clear(),1e4==e.data.code&&(t.$toast(e.data.msg),setTimeout((function(){t.$router.go(-1)}),600))})).catch((function(e){t.$toast.clear()}))}}},d=o,c=a("2877"),u=Object(c["a"])(d,i,s,!1,null,"a08bb7c8",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-9401d76a.2f5d5fa2.js.map