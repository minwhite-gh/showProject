(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71a7a0fe"],{"466d":function(t,a,s){"use strict";var i=s("d784"),o=s("825a"),e=s("50c4"),n=s("1d80"),l=s("8aa5"),r=s("14c3");i("match",1,(function(t,a,s){return[function(a){var s=n(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,s):new RegExp(a)[t](String(s))},function(t){var i=s(a,t,this);if(i.done)return i.value;var n=o(t),c=String(this);if(!n.global)return r(n,c);var d=n.unicode;n.lastIndex=0;var u,f=[],g=0;while(null!==(u=r(n,c))){var h=String(u[0]);f[g]=h,""===h&&(n.lastIndex=l(c,e(n.lastIndex),d)),g++}return 0===g?null:f}]}))},"858b":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"listdetails"},[s("div",{staticClass:"listdetailsbox"},[s("div",{staticClass:"beforebox",style:{backgroundImage:"url("+t.listData.coverImgUrl+")"}}),s("div",{staticClass:"whiteBox"}),s("div",{staticClass:"top flexbetween"},[s("div",{staticClass:"left"},[s("van-icon",{staticClass:"down",attrs:{name:"down",size:"20"},on:{click:t.getback}}),s("span",[t._v("歌单")])],1),s("div",{staticClass:"right"},[s("van-icon",{staticClass:"search",attrs:{name:"search",size:"20"}}),s("van-icon",{staticClass:"ellipsis",attrs:{name:"ellipsis",size:"20"}})],1)]),s("div",{staticClass:"body"},[s("div",{staticClass:"imgbox"},[s("img",{attrs:{src:t.listData.coverImgUrl,alt:""}})]),s("div",{staticClass:"Txtbox"},[s("strong",[t._v(t._s(t.listData.name))]),s("p",[t._v(t._s(t.listData.description))]),s("p",[t._v(t._s(t._f("formatDate")(t.listData.createTime,"YYYY/MM/DD")))])])]),s("div",{staticClass:"foot"},[s("div",{staticClass:"footlist"},[s("van-sticky",{staticClass:"stickyboxTop",attrs:{"offset-top":40},on:{scroll:t.scrolltopchange}},[s("div",{staticClass:"footlisttop flexbetween"},[s("div",{staticClass:"playbox"},[s("van-icon",{staticClass:"play-o",attrs:{name:"play-circle-o",size:"20"}}),s("strong",[t._v("播放全部")]),s("span",[t._v("(共"+t._s(t.songNum)+"首)")])],1),s("div",{staticClass:"livebox"},[s("span",[t._v("+收藏")])])]),s("div",{})]),s("div",{ref:"footlistbodybox",staticClass:"footlistbody-box"},[s("div",{staticClass:"footlistbody"},t._l(t.songData,(function(a,i){return s("div",{key:i,staticClass:"footlistbodyitem flexbetween",on:{click:function(s){return t.clicksetUrl(a)}}},[s("div",{staticClass:"itemleft"},[s("span",{staticClass:"num"},[t._v(t._s(i+1))]),s("div",{staticClass:"namebox"},[s("p",[t._v(t._s(a.name))]),s("span",{staticClass:"one-ellipsis"},[t._v(t._s(a.songAr)+"--"+t._s(a.al.name))])])]),s("div",{staticClass:"itemright"},[s("van-icon",{staticClass:"ellipsis",attrs:{name:"ellipsis",size:"20"}})],1)])})),0)])],1)])])])},o=[],e=(s("99af"),s("c975"),s("a15b"),s("d81d"),s("fb6a"),s("b0c0"),s("ac1f"),s("466d"),s("1276"),s("5530")),n=(s("a914"),s("2f62")),l=Object(n["a"])("MusicAudioStore"),r=l.mapState,c=l.mapActions,d={created:function(){this.songlistId=this.$route.query.id,this.songlistId&&this.getsonglistData(),this.clickSong&&this.setaudioxy(1)},data:function(){return{songlistId:"",listData:[],songData:[],songNum:""}},computed:Object(e["a"])({},r(["audioData","songListCache","detailbool","clickSong"])),methods:Object(e["a"])(Object(e["a"])({},c(["setMusicUrl","setaudioData","setaudioxy","seticonNum","setsongData","setSongListData","setSongListCache","setClickSong"])),{},{getback:function(){this.$router.go(-1),this.setSongListCache("")},scrolltopchange:function(t){var a=document.querySelector(".foot");t.scrollTop>=a.offsetTop-45?this.$refs.footlistbodybox.style.overflowY="auto":this.$refs.footlistbodybox.style.overflowY="hidden"},getsonglistData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"get",url:"/playlist/detail",params:{id:this.songlistId}}).then((function(a){t.$toast.clear(),t.listData=a.data.playlist,t.songNum=t.listData.trackIds.length;var s=[];a.data.playlist.trackIds.map((function(t){s.push(t.id)})),s=s.join(","),0!=t.songListCache.length?t.songData=t.songListCache:t.getsongDatabyId(s)})).catch((function(a){t.$toast.clear()}))},getsongDatabyId:function(t){var a=this,s=t;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"get",url:"/song/detail",params:{ids:s}}).then((function(t){a.$toast.clear();var s=[];s=t.data.songs,s.map((function(t,s){var i="";t.ar.map((function(t){i+=t.name+"/"})),t.songAr=i.slice(0,-1),t.palyurl="https://music.163.com/song/media/outer/url?id="+t.id+".mp3",t.isActive=!1,a.getSingerAlbum(t,t.ar[0].id);var o=Math.floor(t.dt/1e3/60%60),e=Math.floor(t.dt/1e3%60);t.totalTime=o+"."+e,a.getSingerData(t,t.id)})),a.songData=s,a.setSongListCache(a.songData)})).catch((function(t){a.$toast.clear()}))},getSingerData:function(t,a){var s=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"get",url:"/lyric",params:{id:a}}).then((function(a){if(a.data.nolyric||""==a.data.lrc.lyric){var i=[{nolyric:!0,title:"纯音乐，请欣赏",isActive:!1}];t.songWordData=i}else{if(a.data){for(var o="\\[.*\\]",e=a.data.lrc.lyric.split(/[\r\n]/g),n=[],l=0;l<e.length;l++)if(""!=e[l]){var r=e[l].match(o)[0],c="";c=e[l].indexOf(0)>-1?e[l].match(/[0-9]\d:[0-9]\d/)[0]:"";var d=r.split("").length,u=e[l].slice(d);""!=u&&n.push({time:c,title:u,isActive:!1})}t.songWordData=n}s.$toast.clear()}})).catch((function(t){s.$toast.clear()}))},getSingerAlbum:function(t,a){var s=this;"0"!=a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"get",url:"/artist/album",params:{id:a}}).then((function(a){s.$toast.clear(),200==a.status&&(t.singerImg=a.data.artist.picUrl)})).catch((function(t){s.$toast.clear()})))},clicksetUrl:function(t){this.setClickSong(!0),this.setaudioxy(1),this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.setsongData(t),this.seticonNum(1);var a=this.songData.concat();this.setSongListData(a)}})},u=d,f=s("2877"),g=Object(f["a"])(u,i,o,!1,null,"24890077",null);a["default"]=g.exports},"99af":function(t,a,s){"use strict";var i=s("23e7"),o=s("d039"),e=s("e8b5"),n=s("861d"),l=s("7b0b"),r=s("50c4"),c=s("8418"),d=s("65f0"),u=s("1dde"),f=s("b622"),g=s("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=g>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!n(t))return!1;var a=t[h];return void 0!==a?!!a:e(t)},y=!m||!b;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,s,i,o,e,n=l(this),u=d(n,0),f=0;for(a=-1,i=arguments.length;a<i;a++)if(e=-1===a?n:arguments[a],C(e)){if(o=r(e.length),f+o>v)throw TypeError(p);for(s=0;s<o;s++,f++)s in e&&c(u,f,e[s])}else{if(f>=v)throw TypeError(p);c(u,f++,e)}return u.length=f,u}})},a15b:function(t,a,s){"use strict";var i=s("23e7"),o=s("44ad"),e=s("fc6a"),n=s("a640"),l=[].join,r=o!=Object,c=n("join",",");i({target:"Array",proto:!0,forced:r||!c},{join:function(t){return l.call(e(this),void 0===t?",":t)}})},a914:function(t,a,s){},c975:function(t,a,s){"use strict";var i=s("23e7"),o=s("4d64").indexOf,e=s("a640"),n=s("ae40"),l=[].indexOf,r=!!l&&1/[1].indexOf(1,-0)<0,c=e("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:r||!c||!d},{indexOf:function(t){return r?l.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-71a7a0fe.dbec35fb.js.map