(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f5d1ca1"],{"54fb":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"my"},[a("div",{staticClass:"myTop"},[a("van-search",{attrs:{"show-action":"",shape:"round",placeholder:"请输入搜索关键词","input-align":"center","left-icon":""},scopedSlots:t._u([{key:"action",fn:function(){return[t.personalimg?a("div",{staticClass:"personal"},[a("img",{attrs:{src:t.personalimg,alt:""}})]):a("div",{staticClass:"nologin",on:{click:t.goLogin}},[a("img",{attrs:{src:s("823b"),alt:""}})])]},proxy:!0},{key:"left",fn:function(){return[a("div",{staticClass:"loginOut",on:{click:t.outLogin}})]},proxy:!0}]),model:{value:t.searchvalue,callback:function(i){t.searchvalue=i},expression:"searchvalue"}})],1),a("div",{staticClass:"myBody"},[t._m(0),a("div",{staticClass:"iconList"},t._l(t.iconListData,(function(i,s){return a("div",{key:s,staticClass:"iconListItem flexbetween"},[a("div",{staticClass:"itemLeft flexbetween"},[a("div",{staticClass:"left_imgbox"},[a("img",{attrs:{src:i.iconUrl,alt:""}})]),a("div",{staticClass:"left_title"},[a("span",[t._v(t._s(i.title))])])]),a("div",{staticClass:"itemRight flexbetween"},[a("div",{staticClass:"right_num"},[a("span",[t._v(t._s(i.num))])]),a("div",{staticClass:"right_jT"},[a("van-icon",{attrs:{name:"arrow",size:"18"}})],1)])])})),0),a("div",{staticClass:"songList"},[a("van-tabs",{model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},[a("van-tab",{attrs:{title:"我的歌单"+t.myPlayList}},[a("div",{staticClass:"songListBox"},t._l(t.myPlayListData,(function(i,s){return a("div",{key:s,staticClass:"songItem",on:{click:function(s){return t.clicksongitem(i.id)}}},[a("div",{staticClass:"songItemImg"},[a("img",{attrs:{src:i.coverImgUrl,alt:""}})]),a("div",{staticClass:"songItemTitle"},[a("div",{staticClass:"titleTop one-ellipsis"},[t._v(t._s(i.name))]),a("div",{staticClass:"titleBottom"},[t._v(t._s(i.trackCount)+"首")])])])})),0)]),a("van-tab",{attrs:{title:"收藏歌单"+t.liveNum}},[a("div",{staticClass:"songListBox"},t._l(t.myliveListData,(function(i,s){return a("div",{key:s,staticClass:"songItem",on:{click:function(s){return t.clicksongitem(i.id)}}},[a("div",{staticClass:"songItemImg"},[a("img",{attrs:{src:i.coverImgUrl,alt:""}})]),a("div",{staticClass:"songItemTitle"},[a("div",{staticClass:"titleTop one-ellipsis"},[t._v(t._s(i.name))]),a("div",{staticClass:"titleBottom"},[t._v(t._s(i.trackCount)+"首")])])])})),0)])],1),a("div",{staticClass:"addIcon"},[a("img",{attrs:{src:s("cac9"),alt:""}}),a("van-icon",{attrs:{name:"ellipsis",size:"18"}})],1)],1)]),a("div",{staticClass:"myFoot"})])},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"bodyTitle"},[s("span",[t._v("我的音乐")])])}],n=(s("ac1f"),s("1276"),s("5530")),l=(s("9ebf"),s("2f62")),o=s("7c91"),c=Object(l["a"])("MusicAudioStore"),r=c.mapState,u=c.mapActions,m={data:function(){return{active:0,searchvalue:"",personalimg:"",liveNum:0,myliveListData:[],myPlayList:0,myPlayListData:[],iconListData:[{title:"本地音乐",iconUrl:s("fe8d"),num:15},{title:"最近播放",iconUrl:s("4b32"),num:15},{title:"我的电台",iconUrl:s("c602"),num:15},{title:"我的收藏",iconUrl:s("1113"),num:0}]}},created:function(){this.getuserStatus(),1==this.detailbool&&this.setaudioxy(0),this.getUserData(),this.getUserSongListData()},computed:Object(n["a"])({},r(["userId","detailbool"])),methods:Object(n["a"])(Object(n["a"])({},u(["setaudioxy"])),{},{goLogin:function(){this.$router.push({name:"Login"})},getuserStatus:function(){var t=this,i=o["b"].getCookies();"null"!=i.split(";")[0]?this.axios({method:"GET",url:"/login/status",params:{cookie:i}}).then((function(i){t.personalimg=i.data.profile.avatarUrl})).catch((function(t){})):this.personalimg=null},getUserData:function(){var t=this,i=o["b"].getCookies();"null"!=i.split(";")[0]?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/user/subcount",params:{cookie:i}}).then((function(i){t.$toast.clear(),t.liveNum=i.data.subPlaylistCount,t.iconListData[3].num=i.data.subPlaylistCount,t.myPlayList=i.data.createdPlaylistCount})).catch((function(i){t.$toast.clear()}))):this.personalimg=null},getUserSongListData:function(){var t=this,i=o["b"].getCookies();if("null"!=i.split(";")[0]){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var s=localStorage.getItem("ID");this.axios({method:"GET",url:"/user/playlist",params:{uid:s}}).then((function(i){t.$toast.clear();for(var a=i.data.playlist,e=0;e<a.length;e++)a[e].userId!=s?t.myliveListData.push(a[e]):t.myPlayListData.push(a[e])})).catch((function(i){t.$toast.clear()}))}else this.personalimg=null},clicksongitem:function(t){this.$router.push({name:"Listdetails",query:{id:t}})},outLogin:function(){var t=this;this.$dialog.confirm({title:"提示",message:"退出登录？"}).then((function(){o["b"].removeCookies(),localStorage.removeItem("ID"),t.$router.push({name:"Tuijian"})})).catch((function(){}))}})},d=m,v=s("2877"),g=Object(v["a"])(d,a,e,!1,null,"7e5bb384",null);i["default"]=g.exports},"9ebf":function(t,i,s){}}]);
//# sourceMappingURL=chunk-1f5d1ca1.219360a9.js.map